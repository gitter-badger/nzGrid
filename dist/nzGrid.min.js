!function(){"use strict";window.nzGrid=angular.extend({rowAttribute:"row",colAttribute:"col"},window.nzGrid||{});var a=angular.module("nzGrid",[]);a.constant("nzGridConfig",{breaks:{sm:360,md:780,lg:1200}}),a.factory("nzGrid",["$timeout","nzGridConfig",function(a,b){function c(b,c){var d=[],e=Date.now();return function(){d[e]||(d[e]=!0,a(function(){d[e]=!1,b()},c))}}var d={breaks:{sm:b.breaks.sm,md:b.breaks.md,lg:b.breaks.lg},throttle:c};return d}]),a.directive(window.nzGrid.rowAttribute,function(a,b){return{restrict:"EA",link:function(c,d,e){function f(){function b(){return e<=a.breaks.sm?"row-xs":e<=a.breaks.md?"row-sm":e<=a.breaks.lg?"row-md":"row-lg"}var e=d[0].offsetWidth,f=b();f!=h&&(g(),h=f,d.addClass(h)),c.$broadcast("nzGrid.resize")}function g(){d.removeClass("row-xs row-sm row-md row-lg")}var h="";d.addClass("row");var i=a.throttle(f,32),j=["xs","sm","md","lg"],k=e.align?e.align.length?e.align.split("-"):!1:[];return k.length&&angular.forEach(k,function(a,b){a&&d.addClass(a+"-"+j[b])}),angular.isDefined(e["static"])?e["static"]?void d.addClass("row-"+e["static"]):void d.addClass("row-xs"):(window.nzGrid.addResizeListener(d[0],i),angular.element(window).on("resize",i),b(f,50),void d.on("$destroy",function(){window.nzGrid.removeResizeListener(d[0],i),angular.element(window).off("resize",i)}))}}}),a.directive(window.nzGrid.colAttribute,function(){return{restrict:"EA",replace:!0,link:function(a,b,c){b.wrap("<div>");var d=["xs","sm","md","lg"],e=c[window.nzGrid.colAttribute].length?c[window.nzGrid.colAttribute].split("-"):!1,f=c.offset?c.offset.length?c.offset.split("-"):!1:[],g=c.reorder?c.reorder.length?c.reorder.split("-"):!1:[];b.on("$destroy",function(){b.unwrap()}),e.length?(e[0]=e[0]?e[0]:12,e[1]=e[1]?e[1]:e[0],e[2]=e[2]?e[2]:e[1],e[3]=e[3]?e[3]:e[2],angular.forEach(e,function(a,c){a&&b.parent().addClass("col-"+d[c]+"-"+a)})):b.parent().addClass("col-xs col-sm col-md col-lg"),f.length&&angular.forEach(f,function(a,c){a&&b.parent().addClass("col-"+d[c]+"-offset-"+a)}),g.length&&angular.forEach(g,function(a,c){if(a)if(a.indexOf("/")>-1)for(var e=a.split("/"),f=0;f<e.length;f++)b.parent().addClass(e+"-"+d[f]);else b.parent().addClass(a+"-"+d[c])})}}}),function(){function a(a){var b=a.__resizeTriggers__,c=b.firstElementChild,d=b.lastElementChild,e=c.firstElementChild;d.scrollLeft=d.scrollWidth,d.scrollTop=d.scrollHeight,e.style.width=c.offsetWidth+1+"px",e.style.height=c.offsetHeight+1+"px",c.scrollLeft=c.scrollWidth,c.scrollTop=c.scrollHeight}function b(a){return a.offsetWidth!=a.__resizeLast__.width||a.offsetHeight!=a.__resizeLast__.height}function c(c){var d=this;a(this),this.__resizeRAF__&&h(this.__resizeRAF__),this.__resizeRAF__=g(function(){b(d)&&(d.__resizeLast__.width=d.offsetWidth,d.__resizeLast__.height=d.offsetHeight,d.__resizeListeners__.forEach(function(a){a.call(d,c)}))})}function d(){if(!f){var a=(s?s:"")+".resize-triggers { "+(t?t:"")+'visibility: hidden; opacity: 0; } .resize-triggers, .resize-triggers > div, .contract-trigger:before { content: " "; display: block; position: absolute; top: 0; left: 0; height: 100%; width: 100%; overflow: hidden; } .resize-triggers > div { background: #eee; overflow: auto; } .contract-trigger:before { width: 200%; height: 200%; }',b=document.head||document.getElementsByTagName("head")[0],c=document.createElement("style");c.type="text/css",c.styleSheet?c.styleSheet.cssText=a:c.appendChild(document.createTextNode(a)),b.appendChild(c),f=!0}}var e=document.attachEvent,f=!1;if(!e){var g=function(){var a=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||function(a){return window.setTimeout(a,20)};return function(b){return a(b)}}(),h=function(){var a=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.clearTimeout;return function(b){return a(b)}}(),i=!1,j="animation",k="",l="animationstart",m="Webkit Moz O ms".split(" "),n="webkitAnimationStart animationstart oAnimationStart MSAnimationStart".split(" "),o="",p=document.createElement("fakeelement");if(void 0!==p.style.animationName&&(i=!0),i===!1)for(var q=0;q<m.length;q++)if(void 0!==p.style[m[q]+"AnimationName"]){o=m[q],j=o+"Animation",k="-"+o.toLowerCase()+"-",l=n[q],i=!0;break}var r="resizeanim",s="@"+k+"keyframes "+r+" { from { opacity: 0; } to { opacity: 0; } } ",t=k+"animation: 1ms "+r+"; "}window.nzGrid.addResizeListener=function(b,f){e?b.attachEvent("onresize",f):(b.__resizeTriggers__||("static"==getComputedStyle(b).position&&(b.style.position="relative"),d(),b.__resizeLast__={},b.__resizeListeners__=[],(b.__resizeTriggers__=document.createElement("div")).className="resize-triggers",b.__resizeTriggers__.innerHTML='<div class="expand-trigger"><div></div></div><div class="contract-trigger"></div>',b.appendChild(b.__resizeTriggers__),a(b),b.addEventListener("scroll",c,!0),l&&b.__resizeTriggers__.addEventListener(l,function(c){c.animationName==r&&a(b)})),b.__resizeListeners__.push(f))},window.nzGrid.removeResizeListener=function(a,b){e?a.detachEvent("onresize",b):(a.__resizeListeners__.splice(a.__resizeListeners__.indexOf(b),1),a.__resizeListeners__.length||(a.removeEventListener("scroll",c),a.__resizeTriggers__=!a.removeChild(a.__resizeTriggers__)))}}()}();